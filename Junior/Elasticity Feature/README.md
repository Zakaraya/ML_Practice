# Elasticity Feature
#### Вы попали в команду ML-ценообразования. Новый сервис ещё в самом зачатке: вы и ваш тимлид разрабатываете самую первую версию. На последней встрече с категорийными менеджерами ваш тимлид поинтересовался, на какие факторы обычно смотрит эксперт, чтобы установить оптимальную цену. Среди прочего (RFM-анализ, цены конкурентов, промо – с которыми вы можете подружиться в других задачах) было предложено на основе исторических данных оценивать эластичность (спроса по цене).
# Что такое эластичность?
#### Товары с эластичным спросом по цене:
+ Предметы роскоши: драгоценности, деликатесы.
+ Товары, стоимость которых ощутима для семейного бюджета: мебель, бытовая техника.
+ Легкозаменяемые товары: мясо, фрукты.
#### Товары с неэластичным спросом по цене:
+ Предметы первой необходимости: лекарства, обувь, электричество и другие источники энергии.
+ Товары, стоимость которых незначительна для семейного бюджета: карандаши, зубные щётки.
+ Труднозаменяемые товары: хлеб, электрические лампочки, бензин.

![](https://storage.yandexcloud.net/klms-public/production/learning-content/55/1230/11609/33609/164087/image%20-%202022-08-17T193957.032.png)

*Эластичность спроса по цене – зависимость изменения объёма продаж от цены. Эластичные товары – те, продажи которых чувствительны к малейшим изменениям цены. Неэластичные – те, спрос на которые практически не зависит от цены.*

# Задание 1 (SQL)
#### Шаг 1. Вам даны данные о продажах товаров. Напишите запрос к таблице transactions в базе Simulator ML в Redash и получите следующие агрегированные данные:
+ sku — уникальный идентификатор товара.
+ dates — уникальный день.
+ price — средняя цена для товара-дня.
+ qty — суммарное кол-во покупок.

# Задание 2 (Python)
#### Шаг 2. Вам необходимо дописать функцию elasticity_df, которая принимает на вход датасет с предыдущего шага и возвращает эластичность для каждого SKU.
#### Чтобы подсчитать эластичность:

1. Для каждого товара постройте линейную зависимость логарифма продаж от цены.
2. Возьмите коэффициент детерминации линейной регрессии $\R^2$ как оценку эластичности для данного товара.
